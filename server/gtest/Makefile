# Test objects.
TOBJS=build/main.o build/hinstr.o build/keylist.o
# Objects from the hipe server which reside in the parent directory
# after running make generated by qmake in parent directory (refer
# README in parent dir).
HOBJS=../hipe_instruction.o ../keylist.o
CC=g++
CFLAGS=-c
LFLAGS=-lgtest -lgtest_main

test: $(TOBJS) 
	$(CC) $(TOBJS) $(HOBJS) $(LFLAGS) -o $@

build/%.o: src/%.cpp
	$(CC) $(CFLAGS) $< -o $@

clean:
	rm test build/*.o

ctags:
	myctags -R . /usr/include/gtest
